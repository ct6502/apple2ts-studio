{
  "name": "6502 Assembly",
  "scopeName": "source.assembly.6502",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#labels"
    },
    {
      "include": "#instructions"
    },
    {
      "include": "#directives"
    },
    {
      "include": "#numbers"
    },
    {
      "include": "#strings"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.semicolon.assembly",
          "match": ";.*$"
        }
      ]
    },
    "labels": {
      "patterns": [
        {
          "name": "entity.name.tag",
          "match": "^[@:\\]]?[a-zA-Z_][a-zA-Z0-9_]*:?"
        }
      ]
    },
    "instructions": {
      "patterns": [
        {
          "name": "keyword.mnemonic.assembly",
          "match": "\\b(?i)(adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|bra|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|phx|phy|pla|plp|plx|ply|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|stz|tax|tay|trb|tsb|tsx|txa|txs|tya)\\b"
        }
      ]
    },
    "directives": {
      "patterns": [
        {
          "name": "keyword.directive.ca65.assembly",
          "match": "\\.(setcpu|zeropage|segment|res|byte|word|addr|dbyt|text|include|proc|endproc|macro|endmacro|if|ifdef|ifndef|endif|org|scope|endscope)\\b"
        },
        {
          "name": "keyword.directive.64tass.assembly",
          "match": "\\.(byte|word|text|include|proc|endproc|macro|endmacro|if|ifdef|ifndef|endif)\\b"
        },
        {
          "name": "keyword.directive.64tass.assignment.assembly",
          "match": "\\*\\s*="
        },
        {
          "name": "keyword.directive.merlin32.assembly",
          "match": "\\b(?i)(org|equ|use|put|sav|lst|exp|err|fin|do|else|endif|macro|eom|pmacro|>>>|<<<|hex|asc|dci|inv|fls|str|strl|da|ddb|dfb|dw|adrl|rel|dsk)\\b"
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.hex.assembly",
          "match": "\\$[0-9A-Fa-f]+"
        },
        {
          "name": "constant.numeric.binary.assembly",
          "match": "%[01]+"
        },
        {
          "name": "constant.numeric.decimal.assembly",
          "match": "\\b[0-9]+\\b"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.assembly",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.assembly",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.single.assembly",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.assembly",
              "match": "\\\\."
            }
          ]
        }
      ]
    }
  }
}